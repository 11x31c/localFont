!function(){var e={},t=["woff","woff2","ttf"],n,o=document.createElement("style"),a,i=[],r,c="",d=[],s={},l=2e3,u="	",f="\n",m=function(e,t){var n=1024,o=1024*n,a=1024*o,i=1024*a;return e>=0&&n>e?e+" B":e>=n&&o>e?(e/n).toFixed(t)+" KB":e>=o&&a>e?(e/o).toFixed(t)+" MB":e>=a&&i>e?(e/a).toFixed(t)+" GB":e>=i?(e/i).toFixed(t)+" TB":e+" B"},h=function(e){return encodeURI(e).split(/%..|./).length-1},p=function(e){o.innerHTML=e},y=function(e){e.stopPropagation(),e.preventDefault(),e.target.className="dragover"===e.type?"hover":""},v=function(e){return-1===t.indexOf(e.split(".").pop())?!1:d.some(function(t){return t.filename===e})?!1:!0},g=function(e){switch(e){case"ttf":return"font/truetype";case"woff":return"application/font-woff";case"woff2":return"application/font-woff2";case"svg":return"image/svg+xml";default:return"font/truetype"}},w=function(e){switch(e){case"ttf":return"truetype";case"woff":return"woff";case"woff2":return"woff2";case"svg":return"svg";case"eot":return"eot";default:return"truetype"}},E=function(e){var t=e.replace(/\..+$/,"");return t=t.replace(/(bold)/i,""),t=t.replace(/-/g,"")},L=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",o=0,a=e.length,i,r,c;a>o;){if(i=255&e.charCodeAt(o++),o===a){n+=t.charAt(i>>2),n+=t.charAt((3&i)<<4),n+="==";break}if(r=e.charCodeAt(o++),o===a){n+=t.charAt(i>>2),n+=t.charAt((3&i)<<4|(240&r)>>4),n+=t.charAt((15&r)<<2),n+="=";break}c=e.charCodeAt(o++),n+=t.charAt(i>>2),n+=t.charAt((3&i)<<4|(240&r)>>4),n+=t.charAt((15&r)<<2|(192&c)>>6),n+=t.charAt(63&c)}return n},B=function(){var e="",t="	",n="\n";c="",document.getElementById("nominifycss").checked||(t="",n=""),d.forEach(function(o,a){c+="@font-face{"+n+t+"font-family: '"+r.value+"';"+n+t+"font-weight: "+o.weight+";"+n+t+"font-style: "+o.style+";"+n+t+"src:url(data:"+o.mime+";charset=utf-8;base64,"+o.base64+") format('"+o.format+"');"+n+"}"+n,e+="."+o.style+a+o.weight+o.extension+"{"+t+"font-family: '"+r.value+"', serif;"+n+t+"font-weight: "+o.weight+";"+n+t+"font-style: "+o.style+";"+n+"}"}),document.getElementById("outputcss").value=c,document.getElementById("csssize").innerHTML="("+m(h(c))+")",p(c+e),document.querySelector(".fontform").classList.add("done"),document.querySelector(".output-wrap").classList.add("done"),document.querySelector("body").classList.add("done")},S=function(e,t,n){"familyname"===t?B():d[e][t]!==n.value&&(d[e][t]=n.value,x())},_=function(){clearTimeout(s)},T=function(e,t,n){_(),s=setTimeout(function(){S(e,t,n)},l)},k=function(){document.querySelector(".fontform").classList.remove("done"),document.querySelector(".output-wrap").classList.remove("done"),document.querySelector("body").classList.remove("done"),setTimeout(function(){d=[],x(),document.querySelector(".fontform").classList.remove("done"),document.querySelector(".output-wrap").classList.remove("done"),document.querySelector("body").classList.remove("done"),document.getElementById("font_family").innerHTML="",document.getElementById("csssize").innerHTML="",r=void 0,n.innerHTML="/font.css",q()},900)},x=function(){var e=[];d.constructor===Array&&(e=d.splice()),d.sort(function(e,t){return e.weight-t.weight?e.weight-t.weight:e.style>t.style?-1:e.style<t.style?1:void 0}),e.length&&e===d||(I(),B())},I=function(){a.innerHTML="",d.forEach(function(e,t){var n=document.createElement("div");n.classList.add("font");var o=document.createElement("div");o.classList.add("font__demo"),o.innerHTML="Demo: "+e.filename+" - Lorem ipsum dolor sit amet, consectetur adipiscing elit.";var i=document.createElement("input");i.classList.add("field"),i.value=e.mime,i.addEventListener("keyup",function(){T(t,"mime",this)},!1),i.addEventListener("keydown",_,!1);var r=document.createElement("input");r.classList.add("field"),r.placeholder="normal",r.value=e.style,r.addEventListener("keyup",function(){T(t,"style",this)},!1),r.addEventListener("keydown",_,!1);var c=document.createElement("input");c.classList.add("field"),c.type="number",c.step=100,c.placeholder="500",c.value=e.weight,c.addEventListener("keyup",function(){T(t,"weight",this)},!1),c.addEventListener("keydown",_,!1);var s=document.createElement("button");s.classList.add("field"),s.innerHTML="Remove",s.addEventListener("click",function(){this.parentNode.parentNode.removeChild(this.parentNode),d.indexOf(e)>-1&&d.splice(d.indexOf(e),1),x(),0===d.length&&k()}),n.classList.add(e.style+t+e.weight+e.extension),n.appendChild(o),n.appendChild(i),n.appendChild(c),n.appendChild(r),n.appendChild(s),e.data=n,a.appendChild(e.data)})},b=function(){void 0===r&&(r=document.createElement("input"),r.placeholder="Set to localFont for extra fun.",r.value=E(d[0].filename)||"Family name",r.addEventListener("keyup",function(){T(0,"familyname",this)},!1),r.addEventListener("keydown",_,!1),document.getElementById("font_family").appendChild(r)),x()},A=function(t){if(t===d.length)b();else{if(t>d.length)return;var n=d[t].file;e.onload=function(e){var n=e.target.result;d[t].base64=L(n),A(t+1)},e.readAsBinaryString(d[t].file)}},C=function(e){var t={};t.file=e,t.filename=e.name,t.extension=e.name.split(".").pop(),t.mime=g(t.extension),t.format=w(t.extension),t.style="normal",/(italic)/i.test(e.name)&&(t.style="italic"),t.weight=500,/(light)/i.test(e.name)&&(t.weight=300),/(book)/i.test(e.name)&&(t.weight=400),/(demi)/i.test(e.name)&&(t.weight=600),/(bold)/i.test(e.name)&&(t.weight=700),/(heavy)/i.test(e.name)&&(t.weight=800),/(extrabold)/i.test(e.name)&&(t.weight=800),d.push(t)},M=function(t){var n=d.length||0,o=!1;if(a=document.getElementById("font_list"),y(t),i=t.dataTransfer.files){e=new FileReader;for(var r=0;r<i.length;r++)v(i[r].name)&&(C(i[r]),o=!0);o&&A(n)}},q=function(){document.getElementById("pathspan").innerHTML=n.value,/\.(css)$/i.test(n.value)?document.getElementById("outputjs").value='<script type="text/javascript">!function(){"use strict";function e(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function t(e){return window.localStorage&&localStorage.font_css_cache&&localStorage.font_css_cache_file===e}function n(){if(window.localStorage&&window.XMLHttpRequest)if(t(o))c(localStorage.font_css_cache);else{var n=new XMLHttpRequest;n.open("GET",o,!0),e(n,"load",function(){4===n.readyState&&(c(n.responseText),localStorage.font_css_cache=n.responseText,localStorage.font_css_cache_file=o)}),n.send()}else{var a=document.createElement("link");a.href=o,a.rel="stylesheet",a.type="text/css",document.getElementsByTagName("head")[0].appendChild(a),document.cookie="font_css_cache"}}function c(e){var t=document.createElement("style");t.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(t)}var o="/'+n.value+'";window.localStorage&&localStorage.font_css_cache||document.cookie.indexOf("font_css_cache")>-1?n():e(window,"load",n)}();</script><noscript><link rel="stylesheet" href="/'+n.value+'"></noscript>':document.getElementById("outputjs").value="I need a *.css file in order to work!"},H=function(){document.getElementsByTagName("head")[0].appendChild(o),document.getElementById("filedrag").addEventListener("dragover",y,!1),document.getElementById("filedrag").addEventListener("dragleave",y,!1),document.getElementById("fileselect").addEventListener("change",M,!1),document.getElementById("filedrag").addEventListener("drop",M,!1),document.getElementById("nominifycss").addEventListener("change",B,!1),document.getElementById("clearAll").addEventListener("click",k,!1),n=document.getElementById("css_path"),n.addEventListener("keyup",q,!1),document.querySelector(".fontform").classList.add("hidden"),document.querySelector(".output-wrap").classList.add("hidden")};document.addEventListener("DOMContentLoaded",function(){window.File&&window.FileReader&&window.FileList&&window.Blob?H():alert("The File APIs are not fully supported in this browser.")})}();